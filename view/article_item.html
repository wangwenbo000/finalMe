{% extends "./public.html" %} {% block title %} {{article.title}} | {{title}} {% endblock %} {% block description %} {{article.summary | replace("\n", "") | replace("[···]","")}} {% endblock %} {% block keywords %} {{article.tags | replace('|',',') }} {% endblock %} {% block content %}<script>!(function(t,e){typeof define==='function'&&define.amd?define(function(){return e(t)}):typeof exports==='object'?module.exports=e:t.echo=e(t)}(this,function(t){'use strict';var e,n,o,r,c,a={},u=function(){},d=function(t){return t.offsetParent===null},i=function(t,e){if(d(t))return!1;var n=t.getBoundingClientRect();return n.right>=e.l&&n.bottom>=e.t&&n.left<=e.r&&n.top<=e.b},l=function(){(r||!n)&&(clearTimeout(n),n=setTimeout(function(){a.render(),n=null},o))};return a.init=function(n){n=n||{};var d=n.offset||0,i=n.offsetVertical||d,f=n.offsetHorizontal||d,s=function(t,e){return parseInt(t||e,10)};e={t:s(n.offsetTop,i),b:s(n.offsetBottom,i),l:s(n.offsetLeft,f),r:s(n.offsetRight,f)},o=s(n.throttle,250),r=n.debounce!==!1,c=!!n.unload,u=n.callback||u,a.render(),document.addEventListener?(t.addEventListener('scroll',l,!1),t.addEventListener('load',l,!1)):(t.attachEvent('onscroll',l),t.attachEvent('onload',l))},a.render=function(){for(var n,o,r=document.querySelectorAll('img[data-echo], [data-echo-background]'),d=r.length,l={l:0-e.l,t:0-e.t,b:(t.innerHeight||document.documentElement.clientHeight)+e.b,r:(t.innerWidth||document.documentElement.clientWidth)+e.r},f=0;d>f;f++)o=r[f],i(o,l)?(c&&o.setAttribute('data-echo-placeholder',o.src),o.getAttribute('data-echo-background')!==null?o.style.backgroundImage='url('+o.getAttribute('data-echo-background')+')':o.src=o.getAttribute('data-echo'),c||(o.removeAttribute('data-echo'),o.removeAttribute('data-echo-background')),u(o,'load')):c&&(n=o.getAttribute('data-echo-placeholder'))&&(o.getAttribute('data-echo-background')!==null?o.style.backgroundImage='url('+n+')':o.src=n,o.removeAttribute('data-echo-placeholder'),u(o,'unload'));d||a.detach()},a.detach=function(){document.removeEventListener?t.removeEventListener('scroll',l):t.detachEvent('onscroll',l),clearTimeout(n)},a}));</script><article><div class=meta><time>{{controller.date(article.date)}}</time><div class=comment><a href=/article/{{article.routename}}.html#disqus_thread>{{article.comment}}&nbsp;Comments</a></div><div class=category><a href=/categories.html#{{article.cateName.name}} name={{article.cateName.name}}>&nbsp;/&nbsp; {{article.cateName.name}}</a></div></div><h1 class=title>{{article.title}} {% if article.show == 0 %} &nbsp;<span>置顶</span> {% endif %}</h1><div class=entry-content><p>{{article.content | safe }}</p><p class=lastUpdate>发表于 {{controller.date(article.date)}} &nbsp; 最后更新于 {{think.datetime(article.lastdate*1000, 'YYYY-MM-DD HH:mm:ss')}}</p><p class=tags>Tags: {% for tags in article.tags|tags %} <a href=/tag/{{tags}}.html># {{tags}}</a> {% endfor %}</p><div class=license><a rel=license href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt=知识共享许可协议 style="border-width:0;display: inline-block;vertical-align: middle;" src=https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png></a><span xmlns:dct="http://purl.org/dc/terms/" href=http://purl.org/dc/dcmitype/Text property=dct:title rel=dct:type>「{{article.title}}」</span> 由 <a xmlns:cc=http://creativecommons.org/ns# href=https://wangwenbo.me property=cc:attributionName rel=cc:attributionURL>{{config.author}}</a> 创作，采用 <a rel=license href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享 署名-非商业性使用-相同方式共享 4.0 国际 许可协议</a>进行许可。<br>基于<a xmlns:dct="http://purl.org/dc/terms/" href=http://wangwenbo.me/article/{{article.routename}}.html rel=dct:source>{{config.title}}</a>上的作品创作。</div></div></article><script>echo.init({offset:100,throttle:250,unload:false,callback:function(element,op){element.setAttribute('class','loaded');console.log(element,'has been',op+'ed');}});</script>{% if article.show != 1 %}<div class=otheread><h3>分类「 {{article.cateName.name}} 」的其它文章</h3>{%if suggestList.length == 0 %}<p class=nomore>该分类下暂无其它文章</p>{% endif %}<ul>{% for sl in suggestList %}<li><a href=/article/{{sl.routename}}.html>{{sl.title}}</a> &nbsp;<time>{{controller.date(sl.date, 'MM月DD, YYYY')}}</time></li>{% endfor %}</ul></div><div class=pagination>{% if n %}<p class=next>下一篇: &nbsp;<a href=/article/{{n.routename}}.html>{{n.title}}</a></p>{% endif %} {% if p %}<p class=prev>上一篇: &nbsp;<a href=/article/{{p.routename}}.html>{{p.title}}</a></p>{% endif %}</div>{% endif %} {% include "./comment.html" %} {% endblock %}